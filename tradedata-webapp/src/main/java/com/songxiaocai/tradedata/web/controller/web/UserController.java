package com.songxiaocai.tradedata.web.controller.web;/* * Description:com.songxiaocai.tradedata.web.controller.web * @Date Create on 11:03 * @author <a href="mailto:yangyi@songxiaocai.com">yangyi</a> * @Version JDK 1.8 * @since version 1.0 Copyright 2019-02-22日SXC All Rights Reserved. */import com.songxiaocai.tradedata.application.repository.SxcUserRepository;import com.songxiaocai.tradedata.client.result.SxcUserInfoVO;import com.songxiaocai.tradedata.service.params.SxcUserInfoDTO;import com.sxc.common.domain.result.Result;import lombok.extern.slf4j.Slf4j;import org.apache.commons.lang3.StringUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.beans.BeanUtils;@Slf4j@Controller@RequestMapping("/api/tradedata/web")public class UserController {	@Autowired	private SxcUserRepository sxcUserRepository;	@RequestMapping(value = "/getUser",method = RequestMethod.GET)	@ResponseBody	public Result<?> getUser(String mobile) {		Result result=new Result();		if(StringUtils.isAllBlank(mobile))		{			result.setSuccess(false);			result.setErrorMessage("请求参数为空！");			log.info("mobile: {}", mobile);			return result;		}		SxcUserInfoVO sxcUserInfoVO=new SxcUserInfoVO();		try{			SxcUserInfoDTO sxcUserInfoDTO= sxcUserRepository.getByMobilePhone(mobile);			BeanUtils.copyProperties(sxcUserInfoDTO,sxcUserInfoVO);			if (sxcUserInfoVO!=null ){			result.setData(sxcUserInfoVO);			result.setSuccess(true);}			return result;		}catch (Exception e){			log.error("sxcUserInfoDTO: {}", sxcUserInfoVO, e);		}		return result;	}}