package com.songxiaocai.tradedata.infrastructure.repository.impl;/* * Description:com.songxiaocai.tradedata.infrastructure.repository.impl * @Date Create on 13:50 * @author <a href="mailto:yangyi@songxiaocai.com">yangyi</a> * @Version JDK 1.8 * @since version 1.0 Copyright 2019-02-21æ—¥SXC All Rights Reserved. */import com.songxiaocai.tradedata.application.repository.SxcAccountRepository;import com.songxiaocai.tradedata.client.result.SxcAccountInfoDTO;import com.songxiaocai.tradedata.infrastructure.repository.entity.SxcAccount;import com.songxiaocai.tradedata.infrastructure.repository.mapper.SxcAccountMapper;import lombok.extern.log4j.Log4j;import org.springframework.beans.BeanUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Repository;import org.springframework.util.CollectionUtils;import java.util.HashMap;import java.util.List;@Log4j@Repositorypublic class SxcAccountRepositoryImpl implements SxcAccountRepository {	@Autowired	private SxcAccountMapper sxcAccountMapper;	@Override	public SxcAccountInfoDTO getByUserId(Integer userId) {		SxcAccountInfoDTO said=new SxcAccountInfoDTO();		List<SxcAccount> sxcAccount=sxcAccountMapper.getByuserId(userId);		if(CollectionUtils.isEmpty(sxcAccount)){			return null;		}		sxcAccount.forEach(ss->{			BeanUtils.copyProperties(ss,said);		});		return said;	}	@Override	public Boolean modifyBalance(Integer userId, Long cashAmount,Long subsidyAmount,Long baseCashAmount,Long balanceAmount) {		HashMap<String,Object> map=new HashMap();		map.put("userId",userId);		map.put("balance",balanceAmount);		map.put("cashBalance",cashAmount);		map.put("subsidyBalance",subsidyAmount);		map.put("baseCashBalance",baseCashAmount);		Integer re=sxcAccountMapper.updateBalance(map);		if(re<1){			return false;		}		return true;	}}