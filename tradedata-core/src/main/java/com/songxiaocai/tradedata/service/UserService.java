package com.songxiaocai.tradedata.service;/* * Description:com.songxiaocai.tradedata.service * @Date Create on 10:40 * @author <a href="mailto:yangyi@songxiaocai.com">yangyi</a> * @Version JDK 1.8 * @since version 1.0 Copyright 2019-03-19日SXC All Rights Reserved. */import com.songxiaocai.tradedata.application.repository.SxcUserRepository;import com.songxiaocai.tradedata.service.params.SxcUserInfoDTO;import com.sxc.common.domain.result.Result;import lombok.extern.slf4j.Slf4j;import org.apache.commons.lang3.StringUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;@Component@Slf4jpublic class UserService {	@Autowired	private SxcUserRepository sxcUserRepository;	public Result<SxcUserInfoDTO> getUser(String mobile){		Result<SxcUserInfoDTO> re=new Result<>();		SxcUserInfoDTO sxcUserInfoDTO=null;		try{			sxcUserInfoDTO=sxcUserRepository.getByMobilePhone(mobile);			Integer userId=sxcUserInfoDTO.getUserId();			if(sxcUserInfoDTO!=null && StringUtils.isNotBlank(String.valueOf(userId))){				re.setData(sxcUserInfoDTO);			}else{				re.setSuccess(false);				re.setErrorMessage("查询不到用户信息");				return re;			}		}catch (Exception e){			log.error("查询用户异常: {}", e);			re.setSuccess(false);			re.setErrorMessage("查询用户异常");			return re;		}		re.setSuccess(true);		return re;	}}