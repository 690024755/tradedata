import config from "../../config/config";var React = require('react');var ReactDOM = require('react-dom');const margin = {width: '163px', height: '20px'};var results = [    {itemId: '9478', skuId: '5934'},    {itemId: '10039', skuId: '6478'},    {itemId: '10366', skuId: '6733'},    {itemId: '18548', skuId: '9030'}];var tmp = '';export default class onePoint extends React.Component {    constructor(props) {        super(props);        this.state = {            itemId: ['9478'],            pickhouseId: 89,        }    }    handleChangeItemId(e) {        this.setState({            itemId: e.target.value,        });    }    handleChangePickhouseId(e) {        this.setState({            pickhouseId: e.target.value,        });    }    handleChangeOnePoint() {        const formData = new FormData();        formData.append("ItemId", this.state.itemId);        formData.append("pickhouseId", this.state.pickhouseId);        const requestBody = new URLSearchParams(formData).toString();        console.log("requestBody=" + requestBody);        const url = config.onePoint;        const opts = {            mode: 'cors',            method: "POST",            body: requestBody,            headers: {                'Accept': 'application/json',                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',            },        };        fetch(url, opts).then(res => res.text())            .then(data => {                const resData = JSON.parse(data);                console.log("data=" + JSON.stringify(data));                if (                    resData.success                ) {                    alert(resData.successInfo);                } else {                    alert(resData.errorMessage);                }            }).catch(e => console.log('错误:', e))    }    render() {        for (let i in results) {            if (this.state.itemId == results[i].itemId) {                tmp = results[i].skuId;            }        }        return (            <div>                <div>                    <div>修改商品价格,下单支付1分钱</div>                    <div>                        <label>商品名称：                            <select value={this.state.itemId} onChange={e => this.handleChangeItemId(e)}>                                <option value="9478">老孙云南新葱(云丰)</option>                                <option value="10039">老李四川洋葱（云果）</option>                                <option value="10366">老李纸箱洋葱(云丰、云果)</option>                                <option value="18548">宋小菜蒜籽40斤--</option>                            </select>                        </label>                        <div>itemId:{this.state.itemId},skuId={tmp}</div>                    </div>                    <div>                        <label>服务站：                            <select value={this.state.pickhouseId} onChange={e => this.handleChangePickhouseId(e)}>                                <option value="89">古荡服务站【自提】</option>                            </select>                        </label>                        <div>pickhouseId:{this.state.pickhouseId}</div>                    </div>                    <div>                        <label>                            <button onClick={this.handleChangeOnePoint.bind(this)}>提交</button>                        </label>                    </div>                </div>            </div>        );    }}