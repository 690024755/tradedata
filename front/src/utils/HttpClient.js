import React , {Component} from 'react';class HttpClient extends React.Component {var host='http://tradedata.songxiaocai.net';    constructor(props) {        super(props);    }    getApi(url,para ) {        console.log("url="+url,"para="+para);        const requestUrl=host+url+'?'+para;        fetch(requestUrl, {method: 'GET',}).then(res => res.json())            .then(data => {                console.log("data=" + data);                console.log(this.state.status);            })            .catch(e => console.log('错误:', e))    }    postApi(url, formData){        const requestUrl=host+url;        const opts = {            mode: 'cors',            method:"POST",            body:formData,   //请求体            headers: {                'Accept': 'application/json',                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',            },        };        fetch(requestUrl, opts).then(res => res.json())            .then(data => {                console.log("data=" + data);                console.log(this.state.status);            })            .catch(e => console.log('错误:', e))    }    handleSearchGet(){        console.log("handleSearch");        const mobile = this.inputMobileValue.value;        const couponType = this.inputCouponsTypeValue.value;        const formData = new FormData();        formData.append("mobile",mobile);        formData.append("couponType",couponType);        var requestBody=new String("?");        for(let [key,value] of formData.entries()) {            requestBody += `${key}` + '=' + `${value}` + '&'        }        requestBody=requestBody.substr(0,requestBody.length-1);        console.log("requestBody="+requestBody);        const url = 'http://tradedata.songxiaocai.net/api/tradedata/web/sendCoupons'+requestBody;        fetch(url, {method: 'GET',}).then(res => res.json())            .then(data => {                console.log("data=" + data);                console.log(this.state.status);            })            .catch(e => console.log('错误:', e))    }    handleSearchPost(){        const mobile = this.inputMobileValue.value;        const couponType = this.inputCouponsTypeValue.value;        const formData = new FormData();        formData.append("mobile",mobile);        formData.append("couponType",couponType);        const requestBody=new URLSearchParams(formData).toString()        console.log("requestBody="+requestBody);        const url = 'http://tradedata.songxiaocai.net/api/tradedata/web/sendCoupons';        const opts = {            mode: 'cors',            method:"POST",            body:requestBody,   //请求体            headers: {                'Accept': 'application/json',                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8',            },        };        fetch(url, opts).then(res => res.json())            .then(data => {                console.log("data=" + data);                console.log(this.state.status);            })            .catch(e => console.log('错误:', e))    }}export default HttpClient;